# **Документация: Hash Table**

## **Описание**
Этот заголовочный файл содержит реализацию хеш-таблицы с открытой адресацией, поддерживающей различные стратегии пробирования и хеш-функции.

## **Определения и структуры**
### **Константы**
- `DELETED_ELEMENT` — Специальное значение, обозначающее удалённый элемент.

### **Перечисления(enum)**
- `PROBE` — Методы пробирования:
  - `LINEAR_PROBE` — Линейное пробирование.
  - `QUADRATIC_PROBE` — Квадратичное пробирование.
  - `HASH_PROBE` — Двойное хеширование.

### **Структура `HashTable`**
Хранит данные хеш-таблицы:
- `char** keys` — массив ключей.
- `int* values` — массив значений.
- `size_t size` — текущее количество элементов.
- `size_t capacity` — ёмкость таблицы.
- `int (*hash_function)(const char*, int)` — указатель на хеш-функцию.
- `enum PROBE probe` — метод пробирования.

### **Структура `HashTableIterator`**
Позволяет итерироваться по хеш-таблице:
- `HashTable* hash_table` — указатель на таблицу.
- `size_t index` — текущий индекс итератора.

---

## **Функции**
### **Создание и удаление таблицы**
#### `int hashTableCtor(HashTable* hash_table, int (*hash_function)(const char*, int), size_t capacity, enum PROBE probe);`
- **Описание**: Создаёт хеш-таблицу.
- **Параметры**:
  - `hash_table` — указатель на структуру хеш-таблицы.
  - `hash_function` — функция хеширования.
  - `capacity` — начальная ёмкость таблицы.
  - `probe` — метод пробирования.
- **Возвращает**: `0`, если успешно, `-1` при ошибке.

#### `void hashTableDtor(HashTable* hash_table);`
- **Описание**: Удаляет хеш-таблицу, освобождая память.
- **Параметры**:
  - `hash_table` — указатель на хеш-таблицу, которую нужно удалить.

### **Основные операции**
#### `int hashTableInsert(HashTable* hash_table, const char* key, int value);`
- **Описание**: Вставляет элемент в таблицу.
- **Параметры**:
  - `hash_table` — указатель на хеш-таблицу.
  - `key` — строковый ключ.
  - `value` — значение, связанное с ключом.
- **Возвращает**: `0` при успехе, `-1` при ошибке.

#### `int hashTableGet(HashTable* hash_table, const char* key);`
- **Описание**: Получает значение по ключу.
- **Параметры**:
  - `hash_table` — указатель на хеш-таблицу.
  - `key` — строковый ключ.
- **Возвращает**: Значение, либо `-1`, если ключ отсутствует.

#### `int hashTableRemove(HashTable* hash_table, const char* key);`
- **Описание**: Удаляет элемент по ключу.
- **Параметры**:
  - `hash_table` — указатель на хеш-таблицу.
  - `key` — строковый ключ.
- **Возвращает**: `0` при успехе, `-1`, если ключ не найден.

### **Ресайзинг и очистка**
#### `int hashTableIsFull(HashTable* hash_table);`
- **Описание**: Проверяет, заполнена ли таблица.
- **Параметры**:
  - `hash_table` — указатель на хеш-таблицу.
- **Возвращает**: `1`, если заполнена, `0` иначе.

#### `int hashTableResize(HashTable* hash_table, size_t new_capacity);`
- **Описание**: Изменяет ёмкость таблицы.
- **Параметры**:
  - `hash_table` — указатель на хеш-таблицу.
  - `new_capacity` — новая ёмкость таблицы.
- **Возвращает**: `0` при успехе, `-1` при ошибке.

#### `void hashTableClear(HashTable* hash_table);`
- **Описание**: Очищает таблицу, удаляя все элементы.
- **Параметры**:
  - `hash_table` — указатель на хеш-таблицу.

### **Итератор хеш-таблицы**
#### `void hashTableIteratorInit(HashTableIterator* hash_table_iterator,HashTable* hash_table);`
- **Описание**: Инициализирует итератор для перебора элементов хеш-таблицы.
- **Параметры**:
  - `hash_table_iterator` — указатель на итератор.
  - `hash_table` — указатель на хеш-таблицу, по которой будет выполняться итерация.

#### `const char* hashTableIteratorNext(HashTableIterator* hash_table_iterator, int* value);`
- **Описание**: Переходит к следующему элементу в хеш-таблице.
- **Параметры**:
  - `hash_table_iterator` — указатель на итератор.
  - `value` — указатель на переменную, в которую будет записано значение текущего элемента.
- **Возвращает**: Указатель на ключ следующего элемента или `NULL`, если элементов больше нет.

#### `const char* hashTableIteratorPrev(HashTableIterator* hash_table_iterator, int* value);`
- **Описание**: Переходит к предыдущему элементу в хеш-таблице.
- **Параметры**:
  - `hash_table_iterator` — указатель на итератор.
  - `value` — указатель на переменную, в которую будет записано значение текущего элемента.
- **Возвращает**: Указатель на ключ предыдущего элемента или `NULL`, если предыдущих элементов нет.

#### `const char* hashTableIteratorGetByIndex(HashTableIterator* hash_table_iterator, size_t target_index, int* value);`
- **Описание**: Получает элемент по индексу в хеш-таблице.
- **Параметры**:
  - `hash_table_iterator` — указатель на итератор.
  - `target_index` — индекс элемента, который нужно получить.
  - `value` — указатель на переменную, в которую будет записано значение элемента.
- **Возвращает**: Указатель на ключ элемента или `NULL`, если элемент не найден.

---

## **Дополнительные функции**
#### `int murmurHashFunction(const char* key, int hash_table_capacity);`
- **Описание**: Функция хеширования MurmurHash.
- **Параметры**:
  - `key` — строковый ключ.
  - `hash_table_capacity` — ёмкость хеш-таблицы.
- **Возвращает**: Хеш-значение.

#### `int worseHashFunction(const char* key, int hash_table_capacity);`
- **Описание**: Худшая хеш-функция (используется для тестов).
- **Параметры**:
  - `key` — строковый ключ.
  - `hash_table_capacity` — ёмкость хеш-таблицы.
- **Возвращает**: Хеш-значение.

---

